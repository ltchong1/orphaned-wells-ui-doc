"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1477],{5773:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>u,contentTitle:()=>h,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"install/connect_processors","title":"Connect trained processors to OGRRE","description":"Connect trained processors to OGRRE","source":"@site/docs/install/connect_processors.mdx","sourceDirName":"install","slug":"/install/connect_processors","permalink":"/orphaned-wells-ui-doc/docs/install/connect_processors","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"description":"Connect trained processors to OGRRE","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Install OGRRE on your computer","permalink":"/orphaned-wells-ui-doc/docs/install/install_ogrre"},"next":{"title":"Tutorial","permalink":"/orphaned-wells-ui-doc/docs/tutorial/"}}');var n=s(4848),i=s(8453);function t(){return(0,n.jsxs)("div",{children:["OGRRE relies on Google Document AI extractors for document processing. ",(0,n.jsx)("i",{children:"These must be trained before incorporating into OGRRE"}),". To learn more about Document AI, check out their ",(0,n.jsx)("a",{target:"_blank",href:"https://cloud.google.com/document-ai#documentation",children:"documentation"}),". To connect your processor to OGRRE, follow this guide."]})}function c(){return(0,n.jsxs)("div",{children:["OGRRE relies on some JSON files to know which processors to look for and which versions of those processors to use. First, you must create JSON file containing a list of your processors, called ",(0,n.jsx)("code",{children:"Extractor Processors.json"}),". Each processor should contain the following:",(0,n.jsxs)("ol",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"Processor Name"}),": The name of the processor"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"Processor ID"}),": The processor ID on Google,"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"Model ID"}),": The ID of the processor version you wish to use. Processors can have multiple trained versions. If not provided, OGRRE will use the default model."]})]}),(0,n.jsxs)("p",{children:["For an example of this file, see ",(0,n.jsx)("a",{download:!0,href:"/orphaned-wells-ui/downloads/Extractor Processors.json",children:"here"}),"."]})]})}function l(){return(0,n.jsxs)("div",{children:["For each processor you want to incorporate, you must create a schema. Google does not provide an API for fetching processor schemas, so a schema is necessary to ensure all fields show up on each document, whether found by the processor or not. Schemas should be a JSON file containing a list of the fields that you want to extract. The name of the file should match the name of the processor in Google Document AI. Each field should contain the following:",(0,n.jsxs)("ol",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"page_order_sort"}),": Order you want the field to show up in OGRRE"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"name"}),": The key of the field"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"google_data_type"}),": The google data type (one of ",(0,n.jsx)("i",{children:"Plain text, Datetime, Checkbox, Parent, Address"}),")"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"occurrence"}),": Field occurrence (one of ",(0,n.jsx)("i",{children:"Optional once, Optional multiple, Required once, Required multiple"}),")"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"grouping"}),": Group that this field is associated with, if any (",(0,n.jsx)("i",{children:"optional"}),", for fields/subfields)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"database_data_type"}),": The data type you want in your database (",(0,n.jsx)("i",{children:"optional"}),", one of ",(0,n.jsx)("i",{children:"int, str, float, bool, date, table"}),")"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"cleaning_function"}),": The cleaning function you want applied to your field (",(0,n.jsx)("i",{children:"optional"}),", one of ",(0,n.jsx)("code",{children:"clean_date"}),", ",(0,n.jsx)("code",{children:"clean_bool"}),", ",(0,n.jsx)("code",{children:"string_to_float"}),", ",(0,n.jsx)("code",{children:"string_to_int"}),", ",(0,n.jsx)("code",{children:"convert_hole_size_to_decimal"}),")"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:"model_enabled"}),": Boolean indicating whether the field is enabled ",(0,n.jsx)("i",{children:"(optional)"})]})]}),(0,n.jsxs)("p",{children:["For an example of a processor schema, see ",(0,n.jsx)("a",{download:!0,href:"/orphaned-wells-ui/downloads/SampleProcessorName.json",children:"here"}),"."]})]})}function a(){return(0,n.jsxs)("div",{children:["Once you have created the processor data files, you must add them to the proper location. OGRRE relies on a third repository, ",(0,n.jsx)("code",{children:"OGRRE_data_cleaning"}),". This is where the processor schemas are defined. To include your processors in your version of OGRRE, follow these steps:",(0,n.jsxs)("ol",{children:[(0,n.jsxs)("li",{children:["Fork and clone ",(0,n.jsx)("a",{target:"_blank",href:"https://github.com/CATALOG-Historic-Records/OGRRE_data_cleaning",children:"OGRRE_data_cleaning"})]}),(0,n.jsxs)("li",{children:["Inside the repository, you will find the directory ",(0,n.jsx)("code",{children:"OGRRE_data_cleaning/src/ogrre_data_cleaning/processor_schemas"}),". Inside this directory, create a subdirectory called ",(0,n.jsx)("code",{children:"<your-project>_extractors"}),". ",(0,n.jsxs)("i",{children:["Note: The project name must match the backend environment variable ",(0,n.jsx)("code",{children:"ENVIRONMENT"}),". For more information see the ",(0,n.jsx)("a",{href:"install_ogrre#3-set-required-environment-variables-1",children:"backend environment variables section."})]})]}),(0,n.jsxs)("li",{children:["Inside ",(0,n.jsx)("code",{children:"<your-project>_extractors"}),", add your ",(0,n.jsx)("code",{children:"Extractor Processors.json"})," file and all your processor schemas."]})]})]})}const d={description:"Connect trained processors to OGRRE",sidebar_position:4},h="Connect trained processors to OGRRE",u={},p=[{value:"Create Processor List and Schemas",id:"create-processor-list-and-schemas",level:2},{value:"Add JSON files to project",id:"add-json-files-to-project",level:2}];function j(e){const o={h1:"h1",h2:"h2",header:"header",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"connect-trained-processors-to-ogrre",children:"Connect trained processors to OGRRE"})}),"\n",(0,n.jsx)(t,{}),"\n",(0,n.jsx)(o.h2,{id:"create-processor-list-and-schemas",children:"Create Processor List and Schemas"}),"\n",(0,n.jsx)(c,{}),"\n",(0,n.jsx)(l,{}),"\n",(0,n.jsx)(o.h2,{id:"add-json-files-to-project",children:"Add JSON files to project"}),"\n",(0,n.jsx)(a,{})]})}function x(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(j,{...e})}):j(e)}}}]);